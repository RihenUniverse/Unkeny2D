#!/usr/bin/env python3
# -*- coding: utf-8 -*-
# -----------------------------------------------------------------------------
# FICHIER: Core/Logger/Logger.jenga
# DESCRIPTION: Configuration du projet Logger (bibliothèque statique de log).
#              Définit les logging.
# AUTEUR: Rihen
# DATE: 2026
# -----------------------------------------------------------------------------

from Jenga.core.api import *

with project("Logger"):
    # Type de projet: bibliothèque statique
    staticlib()
    
    # Langage et version C++
    language("C++")
    cppdialect("C++17")
    
    # Configuration des répertoires de sortie
    targetdir("%{wks.location}/Build/Lib/%{cfg.buildcfg}-%{cfg.system}")
    objdir("%{wks.location}/Build/Obj/%{cfg.buildcfg}-%{cfg.system}/%{prj.name}")
    
    # Fichiers sources globaux
    files([
        "src/**.cpp",
    ])
    
    # Répertoires d'inclusion publics
    includedirs([
        "src",
        "%{Nkentseu.location}/src",
    ])
    dependson(["Nkentseu"])
    
    # Configuration spécifique à Windows
    with filter("system:Windows"):
        links(["gdi32", "user32"])
        addldflag("-lgdi32")
        addldflag("-luser32")
    
    # Configuration spécifique à Linux
    with filter("system:Linux"):
        links(["xcb"])
    
    # Configuration spécifique à Android
    with filter("system:Android"):
        links(["android", "log"])
    
    # Configuration spécifique à Emscripten
    with filter("system:Emscripten"):
        pass
    
    # Configuration Debug
    with filter("configurations:Debug"):
        defines(["DEBUG", "_DEBUG"])
        optimize("Off")
        symbols("On")
    
    # Configuration Release
    with filter("configurations:Release"):
        defines(["NDEBUG", "RELEASE"])
        optimize("Speed")
        symbols("Off")